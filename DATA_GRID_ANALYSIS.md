# ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Data Grid Library

## ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô: ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥

**‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Ant Design Table** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞:
- ‚úÖ Bundle size ‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å (~50-100 KB vs ~300+ KB)
- ‚úÖ ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ (sorting, filtering, pagination, column selection)
- ‚úÖ Customization ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤ (CSS-based)
- ‚úÖ Performance ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á (< 10,000 rows)
- ‚úÖ ‡∏°‡∏µ CSV export built-in ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≥‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢
- ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡∏∑‡πâ‡∏≠ Pro license

---

## ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

### 1. **MUI DataGrid**

#### ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:
- **Integration ‡∏î‡∏µ**: ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Material-UI ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏°‡∏≤‡∏Å
- **Feature-rich**: ‡∏°‡∏µ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÄ‡∏¢‡∏≠‡∏∞‡∏°‡∏≤‡∏Å (virtualization, tree data, grouping, aggregation)
- **Performance ‡∏™‡∏π‡∏á**: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏≤‡∏¢‡∏´‡∏°‡∏∑‡πà‡∏ô-‡πÅ‡∏™‡∏ô‡πÅ‡∏ñ‡∏ß‡πÑ‡∏î‡πâ‡∏î‡∏µ (virtualization)
- **Professional**: UI ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° modern ‡∏ï‡∏≤‡∏° Material Design

#### ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:
- **Bundle size ‡πÉ‡∏´‡∏ç‡πà**: ~300-500 KB (minified + gzipped)
- **Pro features**: ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡∏∑‡πâ‡∏≠ Pro/Premium license
  - Excel export
  - Advanced filtering
  - Row grouping
  - Tree data
  - Aggregation
- **Customization ‡∏¢‡∏≤‡∏Å**: ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ theme system ‡∏Ç‡∏≠‡∏á MUI
- **Learning curve ‡∏™‡∏π‡∏á**: API ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô ‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏¢‡∏≠‡∏∞

#### ‡∏£‡∏≤‡∏Ñ‡∏≤:
- **Free**: ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô (sorting, filtering, pagination)
- **Pro**: $15/developer/month (~540 ‡∏ö‡∏≤‡∏ó/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)
- **Premium**: $49/developer/month (~1,760 ‡∏ö‡∏≤‡∏ó/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)

---

### 2. **Ant Design Table**

#### ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:
- **Bundle size ‡πÄ‡∏•‡πá‡∏Å**: ~50-100 KB (minified + gzipped)
- **‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Ñ‡∏£‡∏ö ‡∏ü‡∏£‡∏µ**: sorting, filtering, pagination, column selection, expandable rows
- **Customization ‡∏á‡πà‡∏≤‡∏¢**: ‡πÉ‡∏ä‡πâ CSS classes ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠ styled-components
- **API ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢**: ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤
- **Performance ‡∏î‡∏µ**: ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• < 10,000 rows (‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ)
- **Thai-friendly**: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÑ‡∏î‡πâ‡∏î‡∏µ (i18n built-in)
- **CSV export**: ‡∏ó‡∏≥‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ library ‡πÄ‡∏™‡∏£‡∏¥‡∏°

#### ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:
- **Design style**: ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö Ant Design style ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á customize ‡πÄ‡∏¢‡∏≠‡∏∞
- **Virtualization**: ‡πÑ‡∏°‡πà‡∏°‡∏µ built-in virtualization (‡πÅ‡∏ï‡πà‡∏°‡∏µ plugin)
- **Advanced features**: ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÄ‡∏≠‡∏á (tree data, grouping)

#### ‡∏£‡∏≤‡∏Ñ‡∏≤:
- **‡∏ü‡∏£‡∏µ 100%**: ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢

---

## ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ

| ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | MUI DataGrid (Free) | MUI DataGrid (Pro) | Ant Design Table |
|---------|---------------------|-------------------|------------------|
| **Bundle Size** | ~300-500 KB | ~300-500 KB | ~50-100 KB |
| **Sorting** | ‚úÖ | ‚úÖ | ‚úÖ |
| **Filtering** | ‚úÖ (Basic) | ‚úÖ (Advanced) | ‚úÖ |
| **Pagination** | ‚úÖ | ‚úÖ | ‚úÖ |
| **Column Selection** | ‚úÖ | ‚úÖ | ‚úÖ |
| **CSV Export** | ‚ùå | ‚úÖ | ‚úÖ (‡∏ó‡∏≥‡πÄ‡∏≠‡∏á) |
| **Thai Language** | ‚úÖ | ‚úÖ | ‚úÖ |
| **Customization** | üòê (Theme-based) | üòê (Theme-based) | ‚úÖ (CSS-based) |
| **Performance** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **Learning Curve** | üòê | üòê | ‚úÖ |
| **‡∏£‡∏≤‡∏Ñ‡∏≤** | ‡∏ü‡∏£‡∏µ | $15/dev/month | ‡∏ü‡∏£‡∏µ |

---

## ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Work Permit App

### ‚úÖ **‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: Ant Design Table**

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**

1. **‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å**: Bundle size ‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤ MUI ‡∏°‡∏≤‡∏Å (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 1/5) ‚Üí ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤
2. **‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Ñ‡∏£‡∏ö**: ‡∏°‡∏µ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (sorting, filtering, pagination, column selection)
3. **‡∏ü‡∏£‡∏µ**: ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏ã‡∏∑‡πâ‡∏≠ license
4. **CSV Export**: ‡πÄ‡∏£‡∏≤‡∏°‡∏µ CsvColumnSelector.tsx ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö Ant Table ‡πÑ‡∏î‡πâ‡∏î‡∏µ
5. **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÄ‡∏¢‡∏≠‡∏∞**: Work Permit App ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á 10,000 rows ‚Üí Ant Table ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠
6. **Customization**: ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤ (‡πÉ‡∏ä‡πâ Tailwind CSS ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢)
7. **Learning Curve**: ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤ ‚Üí ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô

### 1. **‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Type Definition**

‡πÑ‡∏ü‡∏•‡πå: `web/src/types.ts`

```typescript
export interface Requester {
  title?: string;
  fullname?: string;
  email?: string;
  phone?: string;
  citizenId?: string;        // ‚úÖ ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
  address?: string;
  addressLine?: string;
  company?: string;
  citizenIdMasked?: string;  // ‚úÖ ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
}
```

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞**: ‚úÖ **‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß** - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ

### 2. **‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Firestore Schema**

‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Firestore ‡∏°‡∏µ‡∏ü‡∏¥‡∏•‡∏î‡πå `requester.citizenId` ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

### 3. **‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI Components**

- **Permits.tsx**: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô
- **CsvColumnSelector.tsx**: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô
- **PermitDetails.tsx**: ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô (masked)

### 4. **Security Considerations**

‚ö†Ô∏è **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç**: ‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• (PDPA)

- ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ö‡∏ö masked: `1-2345-xxxxx-xx-x`
- ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Superadmin/Admin ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏•‡∏Ç‡πÄ‡∏ï‡πá‡∏°
- CSV export ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ warning ‡∏´‡∏£‡∏∑‡∏≠ masked ‡∏î‡πâ‡∏ß‡∏¢

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

1. ‚úÖ **‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Ant Design Table**
2. ‚è≥ **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Firestore** (‡∏°‡∏µ‡∏ü‡∏¥‡∏•‡∏î‡πå citizenId ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà)
3. ‚è≥ **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Ant Design**
4. ‚è≥ **‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Permits.tsx ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Ant Table**
5. ‚è≥ **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô**
6. ‚è≥ **‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï CsvColumnSelector**
7. ‚è≥ **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞ deploy**

---

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î Ant Design Table (Preview)

```typescript
import { Table, Button } from 'antd';
import type { ColumnsType } from 'antd/es/table';

const columns: ColumnsType<PermitRow> = [
  {
    title: 'RID',
    dataIndex: 'rid',
    key: 'rid',
    sorter: (a, b) => a.rid.localeCompare(b.rid),
  },
  {
    title: '‡∏ú‡∏π‡πâ‡∏Ç‡∏≠',
    dataIndex: 'requesterName',
    key: 'requesterName',
  },
  {
    title: '‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô',
    dataIndex: ['requester', 'citizenIdMasked'],
    key: 'citizenId',
    render: (text) => text || '-',
  },
  // ... ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ
];

<Table 
  columns={columns} 
  dataSource={permits}
  pagination={{ pageSize: 25 }}
  loading={loading}
/>
```

---

**‡∏™‡∏£‡∏∏‡∏õ**: ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ **Ant Design Table** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ (‡πÄ‡∏•‡πá‡∏Å ‡πÄ‡∏£‡πá‡∏ß ‡∏ü‡∏£‡∏µ ‡∏Ñ‡∏£‡∏ö‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå)

