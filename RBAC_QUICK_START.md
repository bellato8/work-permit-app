# üöÄ Quick Start Guide: ‡∏£‡∏∞‡∏ö‡∏ö RBAC ‡πÉ‡∏´‡∏°‡πà

**‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:** ‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏ó‡∏µ‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤  
**‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡πà‡∏≤‡∏ô:** 5 ‡∏ô‡∏≤‡∏ó‡∏µ

---

## üìå TL;DR (‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô‡πÜ)

‡∏£‡∏∞‡∏ö‡∏ö RBAC ‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ `pagePermissions` ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏•‡∏∞‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Å‡πà‡∏≤‡∏î‡πâ‡∏ß‡∏¢ fallback

**Pull Request:** https://github.com/bellato8/work-permit-app/pull/1

---

## üéØ ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó (‡∏â‡∏ö‡∏±‡∏ö‡∏¢‡πà‡∏≠)

### üëÅÔ∏è Viewer
- **‡πÄ‡∏´‡πá‡∏ô:** Dashboard, Permits, Daily Operations
- **‡∏ó‡∏≥‡πÑ‡∏î‡πâ:** ‡∏î‡∏π‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- **‡∏ó‡∏≥‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:** ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥, ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç, ‡∏•‡∏ö

### ‚úÖ Approver
- **‡πÄ‡∏´‡πá‡∏ô:** + Approvals
- **‡∏ó‡∏≥‡πÑ‡∏î‡πâ:** + ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥/‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò, Export

### üëî Admin
- **‡πÄ‡∏´‡πá‡∏ô:** + Reports, Logs, Settings
- **‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô:** Users, Cleanup

### üîë Superadmin
- **‡πÄ‡∏´‡πá‡∏ô:** ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á
- **‡∏ó‡∏≥‡πÑ‡∏î‡πâ:** ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á

---

## ‚úÖ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1. Review Pull Request (5 ‡∏ô‡∏≤‡∏ó‡∏µ)

```bash
# ‡πÄ‡∏õ‡∏¥‡∏î PR ‡πÉ‡∏ô browser
https://github.com/bellato8/work-permit-app/pull/1

# ‡∏≠‡πà‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
```

### 2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏ô Local (15 ‡∏ô‡∏≤‡∏ó‡∏µ)

```bash
# Clone branch
git fetch origin
git checkout feature/rbac-improvements

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies
cd web
npm install

# ‡∏£‡∏±‡∏ô dev server
npm run dev
```

### 3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó (20 ‡∏ô‡∏≤‡∏ó‡∏µ)

#### Viewer
- [ ] ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏°‡∏ô‡∏π 3 ‡∏≠‡∏±‡∏ô (Dashboard, Permits, Daily Operations)
- [ ] ‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤ Permit Details ‡πÑ‡∏î‡πâ
- [ ] **‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô**‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥/‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥

#### Approver
- [ ] ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏°‡∏ô‡∏π 4 ‡∏≠‡∏±‡∏ô (+ Approvals)
- [ ] **‡πÄ‡∏´‡πá‡∏ô**‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥/‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
- [ ] ‡∏Å‡∏î‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ

#### Admin
- [ ] ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏°‡∏ô‡∏π 7 ‡∏≠‡∏±‡∏ô (+ Reports, Logs, Settings)
- [ ] ‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤ Logs ‡πÑ‡∏î‡πâ
- [ ] **‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô**‡πÄ‡∏°‡∏ô‡∏π Users ‡πÅ‡∏•‡∏∞ Cleanup

#### Superadmin
- [ ] ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏∏‡∏Å‡∏≠‡∏±‡∏ô (9 ‡πÄ‡∏°‡∏ô‡∏π)
- [ ] ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤
- [ ] ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á

### 4. Merge ‡πÅ‡∏•‡∏∞ Deploy (10 ‡∏ô‡∏≤‡∏ó‡∏µ)

```bash
# ‡∏ñ‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô
# 1. Approve PR ‡πÉ‡∏ô GitHub
# 2. Merge ‡πÄ‡∏Ç‡πâ‡∏≤ main
# 3. Deploy ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Staging
# 4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ö‡∏ô Staging
# 5. Deploy ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Production
```

---

## üêõ ‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÄ‡∏°‡∏ô‡∏π‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ã‡πà‡∏≠‡∏ô

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡πÄ‡∏ä‡πá‡∏Ñ Console: `console.log(authz.pagePermissions)`
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ `pagePermissions` ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
3. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ `role` ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏¢‡∏±‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Viewer

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. Clear cache ‡πÅ‡∏•‡∏∞ reload
2. ‡πÄ‡∏ä‡πá‡∏Ñ `pagePermissions.approvals.canApprove`
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ role ‡πÄ‡∏õ‡πá‡∏ô "viewer" ‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏µ fallback ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
2. ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï pagePermissions

```javascript
// ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï (‡∏£‡∏±‡∏ô‡πÉ‡∏ô Firebase Console)
const admins = await db.collection('admins').get();
for (const doc of admins.docs) {
  const role = doc.data().role;
  if (!doc.data().pagePermissions && role) {
    const defaults = {
      viewer: VIEWER_DEFAULT,
      approver: APPROVER_DEFAULT,
      admin: ADMIN_DEFAULT,
      superadmin: SUPERADMIN_DEFAULT
    };
    await doc.ref.update({ 
      pagePermissions: defaults[role] || VIEWER_DEFAULT
    });
  }
}
```

---

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- **‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏ï‡πá‡∏°:** `RBAC_CHANGES_SUMMARY.md`
- **‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ:** `RBAC_FINAL_REPORT.md`
- **‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á:** `RBAC_IMPROVEMENT_PLAN.md`

---

## üí¨ ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢ (FAQ)

### Q: ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
**A:** ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏µ fallback ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Å‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß

### Q: ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Å‡πà‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
**A:** ‡πÑ‡∏°‡πà ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ default ‡∏à‡∏≤‡∏Å role ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### Q: ‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏á?
**A:** 
1. ‡πÄ‡∏û‡∏¥‡πà‡∏° pageKey ‡πÉ‡∏ô `types/permissions.ts`
2. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô `defaultPermissions.ts`
3. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏ô `AdminLayout.tsx`

### Q: ‡∏à‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Ç‡∏≠‡∏á‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÉ‡∏î‡πÜ ‡∏¢‡∏±‡∏á‡πÑ‡∏á?
**A:** ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà `web/src/lib/defaultPermissions.ts` ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

### Q: TypeScript ‡∏°‡∏µ errors ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
**A:** ‡πÑ‡∏°‡πà‡∏°‡∏µ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏ú‡πà‡∏≤‡∏ô ‚úÖ

---

## ‚è±Ô∏è Timeline ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥

| ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô | ‡πÄ‡∏ß‡∏•‡∏≤ | ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö |
|:---|:---:|:---|
| Review PR | 5 ‡∏ô‡∏≤‡∏ó‡∏µ | Tech Lead |
| ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Local | 15 ‡∏ô‡∏≤‡∏ó‡∏µ | Developer |
| ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó | 20 ‡∏ô‡∏≤‡∏ó‡∏µ | QA/Developer |
| Merge PR | 2 ‡∏ô‡∏≤‡∏ó‡∏µ | Tech Lead |
| Deploy Staging | 5 ‡∏ô‡∏≤‡∏ó‡∏µ | DevOps |
| ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Staging | 15 ‡∏ô‡∏≤‡∏ó‡∏µ | QA |
| Deploy Production | 5 ‡∏ô‡∏≤‡∏ó‡∏µ | DevOps |
| Monitor | 30 ‡∏ô‡∏≤‡∏ó‡∏µ | ‡∏ó‡∏µ‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î |
| **‡∏£‡∏ß‡∏°** | **~1.5 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á** | |

---

## ‚ú® ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö

1. ‚úÖ ‡πÄ‡∏°‡∏ô‡∏π‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
2. ‚úÖ ‡∏õ‡∏∏‡πà‡∏°‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
3. ‚úÖ ‡∏•‡∏î bugs ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
4. ‚úÖ UX ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô (‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)
5. ‚úÖ ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏Ç‡∏∂‡πâ‡∏ô
6. ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô

---

## üéâ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß!

‡∏£‡∏∞‡∏ö‡∏ö RBAC ‡πÉ‡∏´‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏Ñ‡πà:
1. Review PR
2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö
3. Merge
4. Deploy

**Pull Request:** https://github.com/bellato8/work-permit-app/pull/1

---

*‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°? ‡∏™‡∏£‡πâ‡∏≤‡∏á Issue ‡πÉ‡∏ô GitHub ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ô `RBAC_CHANGES_SUMMARY.md`*

